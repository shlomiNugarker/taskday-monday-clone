/**
 * Common utility classes to complement Tailwind
 * These are specific patterns used throughout the app
 */

/* Common layout utilities */
.layout-container {
  @apply max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8;
}

.layout-section {
  @apply py-8 md:py-12;
}

/* Text styling utilities */
.text-heading-1 {
  @apply text-3xl font-bold text-neutral-black;
}

.text-heading-2 {
  @apply text-2xl font-semibold text-neutral-black;
}

.text-heading-3 {
  @apply text-xl font-medium text-neutral-black;
}

.text-subtitle {
  @apply text-lg text-neutral-darkGray;
}

.text-body {
  @apply text-sm text-neutral-black;
}

.text-caption {
  @apply text-xs text-neutral-darkGray;
}

/* Flex layout patterns */
.flex-center {
  @apply flex items-center justify-center;
}

.flex-between {
  @apply flex items-center justify-between;
}

.flex-start {
  @apply flex items-center justify-start;
}

.flex-end {
  @apply flex items-center justify-end;
}

.flex-col-center {
  @apply flex flex-col items-center justify-center;
}

/* Common interaction states */
.hover-highlight {
  @apply transition-colors duration-200 hover:bg-neutral-extraLightGray;
}

.hover-scale {
  @apply transition-transform duration-200 hover:scale-105;
}

.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
}

/* Grid layout for task lists */
.task-grid {
  display: grid;
  grid-template-columns: 2.5fr 1.2fr 1.2fr 1.2fr 1.3fr 1.6fr 50px;
  gap: 0;
  align-items: center;
}

/* Task row structure */
.task-cell {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  position: relative;
  overflow: visible;
  padding: 0 6px;
}

.task-cell:hover {
  background-color: rgba(0, 0, 0, 0.02);
}

/* Animation utilities */
.animate-fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

.animate-slide-in-up {
  animation: slideUp 0.4s ease-out;
}

.animate-slide-in-down {
  animation: slideDown 0.4s ease-out;
}

.animate-slide-in-left {
  animation: slideLeft 0.3s ease-out;
}

.animate-slide-in-right {
  animation: slideRight 0.3s ease-out;
}

/* ====================================
   DYNAMIC COMPONENT STYLES
==================================== */

.dynamic-component {
  @apply relative rounded-md transition-all duration-200 h-full w-full;
}

/* Task component */
.dynamic-task {
  @apply dynamic-component hover:bg-neutral-extraLightGray;
}

.dynamic-task-title {
  @apply text-[13px] font-medium text-neutral-black hover:text-primary-500 transition-colors truncate leading-tight;
}

.dynamic-task-input {
  @apply text-[13px] font-medium w-full focus:outline-none focus:ring-1 
    focus:ring-primary-500 bg-primary-50/50 px-2 py-1 rounded transition-all;
}

.dynamic-task-side-indicator {
  @apply w-[3px] h-[20px] rounded-l-md transition-colors duration-200;
}

.dynamic-task-action-button {
  @apply opacity-0 group-hover:opacity-100 transition-opacity duration-200
    p-1.5 rounded-full hover:bg-neutral-extraLightGray text-neutral-darkGray hover:text-primary-500;
}

/* Status component */
.dynamic-status {
  @apply dynamic-component w-full text-white text-xs font-medium rounded-md
    py-1.5 px-3 flex items-center justify-center hover:shadow-sm transition-all;
}

.dynamic-status-options {
  @apply absolute z-50 top-full left-0 mt-1.5 bg-white rounded-md shadow-lg
    border border-neutral-lightGray p-2 min-w-[160px] animate-fade-in;
}

.dynamic-status-option {
  @apply flex justify-center text-white text-xs font-medium py-2 px-3 rounded-md mb-1
    cursor-pointer transition-all duration-200 hover:brightness-110 hover:shadow-sm;
}

/* Date component */
.dynamic-date {
  @apply dynamic-component flex items-center justify-center;
}

.dynamic-date-display {
  @apply w-full h-8 rounded-md px-3 flex items-center justify-center text-white
    text-xs font-medium transition-all duration-200 hover:shadow-sm hover:brightness-105;
}

.dynamic-date-icon {
  @apply h-3.5 w-3.5 mr-1.5 opacity-90;
}

.dynamic-date-text {
  @apply text-center truncate;
}

.dynamic-date-tooltip {
  @apply absolute top-full mt-1.5 left-1/2 transform -translate-x-1/2 bg-neutral-black
    text-white text-xs px-2 py-1 rounded-md z-10 whitespace-nowrap animate-fade-in;
}

/* Person component */
.dynamic-person {
  @apply dynamic-component flex items-center justify-center;
}

.dynamic-person-avatar {
  @apply w-8 h-8 rounded-full overflow-hidden flex-shrink-0 border-2 border-white
    shadow-sm transition-transform duration-200 hover:scale-110 hover:shadow;
}

.dynamic-person-empty {
  @apply w-8 h-8 rounded-full bg-neutral-lightGray flex items-center justify-center
    text-neutral-darkGray text-xs hover:bg-neutral-gray transition-colors duration-200;
}

.dynamic-person-dropdown {
  @apply absolute z-50 top-full left-0 mt-1.5 bg-white rounded-md shadow-lg
    border border-neutral-lightGray p-2 w-[240px] animate-fade-in;
}

/* Priority component */
.dynamic-priority {
  @apply dynamic-component flex items-center justify-center;
}

.dynamic-priority-indicator {
  @apply flex items-center justify-center h-8 w-full rounded-md transition-all duration-200 
    hover:shadow-sm hover:brightness-105 text-white text-xs font-medium;
}

/* Text component */
.dynamic-text {
  @apply dynamic-component p-2;
}

.dynamic-text-input {
  @apply w-full text-sm text-neutral-black bg-transparent px-1 py-0.5 
    focus:outline-none focus:ring-1 focus:ring-primary-500 rounded transition-all;
}

/* Common dropdown menu styles for all dynamic components */
.dynamic-dropdown-menu {
  @apply absolute z-50 mt-1.5 bg-white rounded-md shadow-lg border border-neutral-lightGray 
    p-1.5 min-w-[140px] animate-fade-in;
}

.dynamic-dropdown-item {
  @apply flex items-center px-3 py-2 text-sm text-neutral-black hover:bg-neutral-extraLightGray 
    rounded-md transition-colors duration-200;
}

.dynamic-dropdown-item-danger {
  @apply dynamic-dropdown-item text-secondary-red-500 hover:bg-secondary-red-500/10;
}

/* Common element used in multiple components */
.truncate {
  @apply overflow-hidden text-overflow-ellipsis whitespace-nowrap;
}

/* Tooltip class for consistent tooltips */
.dynamic-tooltip {
  @apply absolute z-50 px-2 py-1 text-xs text-white bg-neutral-black rounded-md shadow-sm 
    transition-opacity duration-200 whitespace-nowrap animate-fade-in;
}

/* ====================================
   TASK ROW STYLING
==================================== */

.task-row {
  box-sizing: border-box;
  min-height: 52px;
  height: 52px;
  align-items: center;
  border-bottom: 1px solid rgba(240, 240, 240, 0.8);
  margin-bottom: 1px;
}

.task-row:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  z-index: 2;
  border-bottom-color: transparent;
}

/* RTL support */
.rtl {
  direction: rtl;
}

/* ====================================
   KANBAN TASK STYLING
==================================== */

.kanban-task {
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  min-height: 120px;
  padding: 1rem;
  margin-bottom: 0.75rem;
}

.kanban-task:hover {
  box-shadow: 0 3px 12px rgba(0,0,0,0.09);
  transform: translateY(-2px);
  border-color: rgba(0,0,0,0.12);
}

.kanban-avatar {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  overflow: hidden;
  border: 2px solid white;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

/* ====================================
   CONSISTENT COMPONENT SIZING IN TASK ROW
==================================== */

.task-cell .dynamic-component,
.task-cell .dynamic-priority-indicator,
.task-cell .dynamic-status,
.task-cell .dynamic-date-display {
  height: 36px;
  min-height: 36px;
  max-height: 36px;
}

.task-cell .dynamic-person-avatar,
.task-cell .dynamic-person-empty {
  width: 28px;
  height: 28px;
}

.task-cell .dynamic-status {
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
}

.task-cell .dynamic-priority-indicator {
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
}

.task-cell .dynamic-date-display {
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
}

/* Task dropdown styling */
.task-dropdown-menu {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  width: 180px;
  background-color: white;
  border-radius: 6px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
  z-index: 50;
  overflow: hidden;
  padding: 4px 0;
}

.task-dropdown-item, 
.task-dropdown-item-danger {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 8px 12px;
  font-size: 0.875rem;
  text-align: right;
  transition: background-color 0.15s ease;
  cursor: pointer;
}

.task-dropdown-item {
  color: #333;
}

.task-dropdown-item:hover {
  background-color: #f6f7fb;
}

.task-dropdown-item-danger {
  color: #e2445c;
}

.task-dropdown-item-danger:hover {
  background-color: rgba(226, 68, 92, 0.08);
}

.task-dropdown-divider {
  height: 1px;
  background-color: #eee;
  margin: 4px 0;
}

.task-action-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  color: #919191;
  border-radius: 50%;
  transition: all 0.2s ease;
  background-color: transparent;
}

.task-action-button:hover {
  color: #525252;
  background-color: rgba(0, 0, 0, 0.05);
}

/* Keyframe animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideDown {
  from { transform: translateY(-10px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideLeft {
  from { transform: translateX(10px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slideRight {
  from { transform: translateX(-10px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
} 